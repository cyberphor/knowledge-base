# Application Performance Monitors
An Application Performance Monitor (APM) is a system used to customer-oriented [metrics](/cloud/monitoring/README.md#metrics). 

## Alerts  
An alert is a warning or indication of a negative condition. APM servers can be configured to generate alerts. Below is a list of examples describing when an APM server should generate an alert. 
* A metric is below an expected baseline
* A metric is above a set threshold
* A metric is outside the range of normal
* A metric indicates an app is no longer responding

## APM Architectures
### Agent-Based
Within an agent-based APM architecture, the resources you want to monitor generate metrics and/or logs that are collected and transmited by an APM agent to an APM server. Below a list of techniques used by agents to collect and push metrics. 
* Inject JavaScript into HTML documents to get the client side to push metrics to the APM server
* Scrape metrics and/or logs generated by an application or operating system

#### New Relic
New Relic is an agent-based APM. It includes multiple classes of agents (e.g., infrastructure, browser, and mobile) and offers a service map feature (i.e., a graph to visualize the last 30 minutes of activity between a web app's individual components, aka "entities")

### Agentless
Within an agent-less APM architecture, the resources you want to monitor generate, collect, and transmit metrics and/or logs to an APM server. 

#### Sumo Logic
Sumo Logic is an agentless APM. It is uses a proprietary algorithm called "LogReduce" to combine data from different logs

#### Prometheus
Prometheus is an agentless APM developed by SoundCloud in 2012. It was designed to monitor microservice architectures using the components listed below. 
* Pushgateway: collects metrics pushed by microservices
* Prometheus Server: discovers targets (e.g., using Kubernetes), retrieves metrics from targets, and stores metrics in a Time Series Database (TSDB)
* Alert Manager: manages alerting rules and notification settings
* Prometheus Web UI: visualizes metrics and alerts

![Prometheus](/theory/cloud/monitoring/prometheus.png)

## Integrated APMs
[Cloud Service Providers](/theory/cloud/README.md#cloud-service-providers) offer APM services natively integrated with their other solutions. Below is a list of APM services offered by Azure. 
* Azure Monitor: collects, analyzes, and responds to telemetry generated by infrastructure and the apps they host
  * Azure Application Insights: produces insight based on native and/or custom telemetry
  * PowerBI: visualizes telemetry
  * Azure Log Analytics: analyzes telemetry
